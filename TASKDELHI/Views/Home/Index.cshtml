@{ ViewBag.Title = "Home Page"; }

<script>

    function confirmDelete() {
        return confirm("Are you sure you want to delete this record?");
    }
</script>

<style>
    @@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&display=swap');

    .error-Message {
        color: red;
        font-family: sans-serif;
        font-size: 18px;
        font-family: Poppins;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: #f6f8fa;
        font-family: 'Poppins', sans-serif;
    }

    .container {
        max-width: 700px;
        width: 100%;
        background: #ffffff;
        border-radius: 0.5rem;
        box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.1), 0px 5px 12px -2px rgba(0, 0, 0, 0.1), 0px 18px 36px -6px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        margin: 10px;
    }

        .container .title {
            padding: 25px;
            background: #f6f8fa;
        }

            .container .title p {
                font-size: 25px;
                font-weight: 500;
                position: relative;
            }

                .container .title p::before {
                    content: "";
                    position: absolute;
                    bottom: 0;
                    left: 0;
                    width: 30px;
                    height: 3px;
                    background: linear-gradient(to right, #F37A65, #D64141);
                }

    .user_details {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 20px;
        padding: 25px;
    }

        .user_details .input_box {
            width: calc(100% / 2 - 20px);
            margin: 0 0 12px 0;
        }

    .input_box label {
        font-weight: 500;
        margin-bottom: 5px;
        display: block;
    }

        .input_box label::after {
            content: " *";
            color: red;
        }

    .input_box input {
        width: 100%;
        height: 45px;
        border: none;
        outline: none;
        border-radius: 5px;
        font-size: 16px;
        padding-left: 15px;
        box-shadow: 0px 0px 0px 1px rgba(0, 0, 0, 0.1);
        background-color: #f6f8fa;
        font-family: 'Poppins', sans-serif;
        transition: all 120ms ease-out 0s;
    }


        .input_box input:focus,
        .input_box input:valid {
            box-shadow: 0px 0px 0px 2px #AC8ECE;
        }

    form .gender {
        padding: 0px 25px;
    }

    .gender .gender_title {
        font-size: 20px;
        font-weight: 500;
    }

    .gender .category {
        width: 80%;
        display: flex;
        justify-content: space-between;
        margin: 5px 0;
    }

        .gender .category label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

            .gender .category label .dot {
                height: 18px;
                width: 18px;
                background: #d9d9d9;
                border-radius: 50%;
                margin-right: 10px;
                border: 4px solid transparent;
                transition: all 0.3s ease;
            }

    #radio_1:checked ~ .category label .one,
    #radio_2:checked ~ .category label .two,
    #radio_3:checked ~ .category label .three {
        border-color: #d9d9d9;
        background: #D64141;
    }

    .gender input {
        display: none;
    }

    .reg_btn {
        padding: 25px;
        margin: 15px 0;
    }

        .reg_btn input {
            height: 45px;
            width: 100%;
            border: none;
            font-size: 18px;
            font-weight: 500;
            cursor: pointer;
            background: linear-gradient(to right, #F37A65, #D64141);
            border-radius: 5px;
            color: #ffffff;
            letter-spacing: 1px;
            text-shadow: 0px 2px 2px rgba(0, 0, 0, 0.2);
        }

            .reg_btn input:hover {
                background: linear-gradient(to right, #D64141, #F37A65);
            }

    @@media screen and (max-width: 584px) {

        .user_details {
            max-height: 340px;
            overflow-y: scroll;
        }

            .user_details::-webkit-scrollbar {
                width: 0;
            }

            .user_details .input_box {
                width: 100%;
            }

        .gender .category {
            width: 100%;
        }
    }



    #togglePassword {
        transform: translate(-36px, 4px);
    }

    @@media screen and (max-width: 419px) {
        .gender .category {
            flex-direction: column;
        }
    }
</style>

<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>


<div class="container">
    <div class="title">
        <p>Registration</p>
    </div>
    <form id="registrationForm" method="post" enctype="multipart/form-data" action="/home/Index">
        <div class="user_details">
            <div class="input_box">
                <label for="name">Full Name</label>
                <input type="text" id="name" name="fname" placeholder="Enter your name" required>
            </div>
            <div class="input_box">
                <label for="username">Last Name</label>
                <input type="text" id="username" name="lname" placeholder="Enter your Last Name" required>
            </div>
            <div class="input_box">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" placeholder="Enter your email" required>
            </div>
            <div class="input_box">
                <label for="phone">Phone Number</label>
                <input type="text" id="phone" name="phoneno" placeholder="Enter your number" required>
            </div>
            <div class="input_box">
                <label for="pass">Password</label>
                <input type="password" id="password" name="password" placeholder="Enter your password" required>
                <i id="togglePassword" class="fa fa-eye"></i>

            </div>
            <div class="input_box">
                <label for="confirmPass">Confirm Password</label>
                <input type="password" id="confirmPass" name="confirmpassword" placeholder="Confirm your password" required>
            </div>
            <div class="input_box">
                <label for="age">Age</label>
                <input type="number" id="age" name="age" placeholder="Enter Age" value="@Model?.age" required>
            </div>
            <div class="input_box">
                <label for="profile">Profile</label>
                <input type="file" id="profile" name="profile" required>
            </div>
            <div class="input_box">
                <label for="address">Address</label>
                <textarea id="address" placeholder="Your Address" name="address" class="input-field w-full border-2 border-gray-300 p-2 pl-10 rounded" rows="4" required></textarea>
            </div>
        </div>
        <div class="reg_btn">
            <input type="submit" value="Register">
        </div>
    </form>
</div>
@*@if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
    {
    <p style="color:red;">@ViewBag.ErrorMessage</p>}*@

<div style="margin: 0; padding: 0;">
    <table id="myTable" class="table table-bordered table-condensed table-hover table-striped" style="width: 100%">
        <thead class="table-dark">
            <tr>
                <th>SN</th>
                <th>Firstname</th>
                <th>Lastname</th>
                <th>Password</th>
                <th>Confirmpassword</th>
                <th>Email</th>
                <th>Phoneno</th>
                <th>Age</th>
                <th>Address</th>
                <th>Pic</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @if (ViewBag.data1 != null)
            {
                foreach (System.Data.DataRow row1 in ViewBag.data1.Rows)
                {
<tr>
    <td>@row1["id"]</td>
    <td>@row1["fname"]</td>
    <td>@row1["lname"]</td>
    <td>@row1["password"]</td>
    <td>@row1["confirmpassword"]</td>
    <td>@row1["email"]</td>
    <td>@row1["phoneno"]</td>
    <td>@row1["age"]</td>
    <td>@row1["address"]</td>
    <td><img src="~/Content/pic/@row1["profile"]" alt="Profile Picture" height="50px" width="50px"></td>
    <td>
        <a href="/Home/edit/@row1["id"]">
            <button class="btn btn-success btn-sm">Edit</button>
        </a>
        <a href="/Home/delete/@row1["id"]" onclick="return confirmDelete();">
            <button class="btn btn-danger btn-sm">Delete</button>
        </a>
    </td>
</tr>}
            }
        </tbody>
    </table>
</div>

<script>
    let table = new DataTable('#myTable');
</script>


<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
<script src="https://jquery.bassistance.de/validate/additional-methods.js"></script>

<script type="text/javascript" src="js/jquery.form.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">


<script>
    $("#registrationForm").validate({
        errorClass: "error-Message",
        rules: {
            fname: {
                required: true,
                minlength: 3
            },
            lname: {
                required: true,
                minlength: 3
            },
            email: {
                required: true,
                email: true
            },
            phoneno: {
                required: true,
                digits: true,
                minlength: 10,
                maxlength: 10
            },
            password: {
                required: true,
                minlength: 6
            },
            confirmpassword: {
                required: true,
                equalTo: "#password"
            },
            address: {
                required: true,
                minlength: 10
            },
            profile: {
                required: true
            },
            age: {
                required: true,
                number: true,
                min: 1
            }
        },
        messages: {
            fname: {
                required: "First name is required.",
                minlength: "First name must be at least 3 characters."
            },
            lname: {
                required: "Last name is required.",
                minlength: "Last name must be at least 3 characters."
            },
            email: {
                required: "Email is required.",
                email: "Please enter a valid email address."
            },
            phoneno: {
                required: "Phone number is required.",
                digits: "Please enter only digits.",
                minlength: "Phone number must be 10 digits.",
                maxlength: "Phone number must be 10 digits."
            },
            password: {
                required: "Password is required.",
                minlength: "Password must be at least 6 characters."
            },
            confirmpassword: {
                required: "Confirm password is required.",
                equalTo: "Passwords do not match."
            },
            address: {
                required: "Address is required.",
                minlength: "Address must be at least 10 characters."
            },
            profile: {
                required: "Please upload a profile picture."
            },
            age: {
                required: "Age is required.",
                number: "Please enter a valid age.",
                min: "Age must be greater than 0."
            }
        },
        submitHandler: function (form) {
            alert("Form is valid and ready to submit!");
            form.submit();
        }
    });
    document.getElementById('togglePassword').addEventListener('click', function () {
        const passwordField = document.getElementById('password');
        const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordField.setAttribute('type', type);

        // Toggle the icon
        this.classList.toggle('fa-eye');
        this.classList.toggle('fa-eye-slash');
    });
</script>

